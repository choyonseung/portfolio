/* ============================= */
/* Button */
/* ============================= */
.btn {
  /* base */
  --btn-bg: var(--color-primary);
  --btn-fg: #fff;
  --btn-border: transparent;

  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  border-radius: 999px;
  border: 1px solid var(--btn-border);
  background: var(--btn-bg);
  color: var(--btn-fg);
  font-weight: 500;
  white-space: nowrap;
  cursor: pointer;
  user-select: none;
  transition:
    transform var(--ease),
    opacity var(--ease),
    background var(--ease),
    border-color var(--ease),
    box-shadow var(--ease),
    filter var(--ease);

  &:active:not(:disabled) {
    transform: translateY(1px);
  }

  &:disabled {
    cursor: not-allowed;
    opacity: 0.45;
    box-shadow: none;
  }

  &:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 3px color-mix(in srgb, var(--btn-bg) 38%, transparent),
      0 14px 26px rgba(0, 0, 0, 0.12);
  }

  &-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    width: 100%;
  }

  /* ============================= */
  /* Size (Control Height 기반) */
  /* ============================= */
  &-xs {
    height: var(--control-h-xs);
    padding: 0 var(--control-px-xs);
    font-size: var(--control-font-xs);
    gap: 6px;
  }

  &-sm {
    height: var(--control-h-sm);
    padding: 0 var(--control-px-sm);
    font-size: var(--control-font-sm);
  }

  &-md {
    height: var(--control-h-md);
    padding: 0 var(--control-px-md);
    font-size: var(--control-font-md);
  }

  &-lg {
    height: var(--control-h-lg);
    padding: 0 var(--control-px-lg);
    font-size: var(--control-font-lg);
  }

  &-xl {
    height: var(--control-h-xl);
    padding: 0 var(--control-px-xl);
    font-size: var(--control-font-xl);
    gap: 10px;
  }

  &-full {
    flex: 1;
    width: 100%;
  }

  /* ============================= */
  /* Contents */
  /* ============================= */
  &-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
  }

  &-text {
    line-height: 1;
  }

  /* ============================= */
  /* Loading */
  /* ============================= */
  &.-loading {
    pointer-events: none;

    .btn-icon,
    .btn-text {
      opacity: 0.55;
    }
  }

  &-spinner {
    width: 14px;
    height: 14px;
    border-radius: 999px;
    border: 2px solid color-mix(in srgb, var(--btn-fg) 40%, transparent);
    border-top-color: var(--btn-fg);
    animation: btn-spin 0.8s linear infinite;
  }

  /* ============================= */
  /* Variants */
  /* ============================= */
  &-solid {
    background: var(--btn-bg);
    color: var(--btn-fg);
    border-color: transparent;

    &:hover:not(:disabled) {
      box-shadow: 0 10px 26px rgba(0, 0, 0, 0.12);
      filter: brightness(1.03) saturate(1.05);
    }
  }

  &-outline {
    background: transparent;
    color: var(--btn-bg);
    border-color: color-mix(in srgb, var(--btn-bg) 38%, transparent);

    &:hover:not(:disabled) {
      background: color-mix(in srgb, var(--btn-bg) 10%, transparent);
      border-color: color-mix(in srgb, var(--btn-bg) 60%, transparent);
    }
  }

  &-ghost {
    background: transparent;
    color: var(--btn-bg);
    border-color: transparent;

    &:hover:not(:disabled) {
      background: color-mix(in srgb, var(--btn-bg) 12%, transparent);
    }
  }

  /* ============================= */
  /* Icon-only */
  /* ============================= */
  &-icon {
    padding: 0;
    aspect-ratio: 1 / 1;
    border-radius: 999px;

    .btn-text {
      display: none;
    }

    &.btn-color-neutral { --btn-border: transparent; }

    &.btn-xs { width: var(--control-h-xs); height: var(--control-h-xs); }
    &.btn-sm { width: var(--control-h-sm); height: var(--control-h-sm); }
    &.btn-md { width: var(--control-h-md); height: var(--control-h-md); }
    &.btn-lg { width: var(--control-h-lg); height: var(--control-h-lg); }
    &.btn-xl { width: calc(var(--control-h-xl) + 12px); height: calc(var(--control-h-xl) + 12px); }
  }

  /* ============================= */
  /* Color Themes */
  /* ============================= */
  &-color-primary { --btn-bg: var(--color-primary); --btn-fg: #fff; }
  &-color-accent  { --btn-bg: var(--color-accent);  --btn-fg: #111; }
  &-color-info    { --btn-bg: var(--color-info);    --btn-fg: #06131a; }
  &-color-success { --btn-bg: var(--color-success); --btn-fg: #061a10; }
  &-color-warning { --btn-bg: var(--color-warning); --btn-fg: #1b1203; }
  &-color-danger  { --btn-bg: var(--color-danger);  --btn-fg: #fff; }
  &-color-neutral { --btn-bg: var(--color-surface-alt); --btn-fg: var(--color-text); --btn-border: var(--color-border); }
}

@keyframes btn-spin {
  to { transform: rotate(360deg); }
}
